(function(){"use strict";var e={9754:function(e,t,a){var s=a(5130),r=a(657),l=a(6768),i=a(4232),n=a(144),o=a(6826),d=a(8977),u=a(9696),c=a(6491),m=a(8971);const k={key:0,class:"flex flex-col space-y-2 p-3 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 transition-all"},g={class:"flex items-center justify-between text-xs font-medium text-gray-500 dark:text-slate-400"},p={class:"flex items-center space-x-2"},x=["title"],b=["value"];var v={__name:"CastVolume",setup(e){const t=(0,n.KR)(!1),a=(0,n.KR)(0),s=(0,n.KR)(!1);let r=null,o=null;const d=()=>{"undefined"!==typeof cast&&cast.framework&&(r=new cast.framework.RemotePlayer,o=new cast.framework.RemotePlayerController(r),o.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,(()=>{t.value=r.isConnected})),o.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,(()=>{a.value=r.volumeLevel})),o.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,(()=>{s.value=r.isMuted})),t.value=r.isConnected,r.isConnected&&(a.value=r.volumeLevel,s.value=r.isMuted))},u=e=>{const t=parseFloat(e.target.value);a.value=t,r&&o&&(r.volumeLevel=t,o.setVolumeLevel())},v=()=>{r&&o&&o.muteOrUnmute()};return(0,l.sV)((()=>{d(),setTimeout(d,1e3)})),(e,r)=>t.value?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.Lk)("div",g,[r[0]||(r[0]=(0,l.Lk)("span",null,"Cast Volume",-1)),(0,l.Lk)("span",null,(0,i.v_)(Math.round(100*a.value))+"%",1)]),(0,l.Lk)("div",p,[(0,l.Lk)("button",{onClick:v,class:"p-1 text-gray-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 focus:outline-none",title:s.value?"Unmute":"Mute"},[s.value?((0,l.uX)(),(0,l.Wv)((0,n.R1)(c.A),{key:0,class:"w-5 h-5"})):((0,l.uX)(),(0,l.Wv)((0,n.R1)(m.A),{key:1,class:"w-5 h-5"}))],8,x),(0,l.Lk)("input",{type:"range",min:"0",max:"1",step:"0.01",value:a.value,onInput:u,class:"flex-1 h-1.5 bg-gray-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-blue-600 hover:accent-blue-500"},null,40,b)])])):(0,l.Q3)("",!0)}};const f=v;var h=f;const y={class:"flex h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800"},w={class:"flex-1 flex flex-col justify-between p-6"},S={class:"space-y-2"},L={class:"space-y-4"},C={class:"flex-1 flex flex-col overflow-hidden pt-12 md:pt-0"},I={class:"flex-1 overflow-auto"};var E={__name:"Layout",setup(e){const t=(0,n.KR)(!1);return(e,a)=>{const s=(0,l.g2)("RouterLink"),r=(0,l.g2)("RouterView");return(0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=e=>t.value=!t.value),class:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 shadow-md"},[...a[5]||(a[5]=[(0,l.Lk)("svg",{class:"w-6 h-6 text-gray-900 dark:text-slate-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),(0,l.Lk)("nav",{class:(0,i.C4)(["bg-white dark:bg-slate-900 border-r border-gray-200 dark:border-slate-700 shadow-md flex flex-col transition-all duration-300 overflow-hidden",t.value?"w-64 pointer-events-auto":"w-0 pointer-events-none md:w-64 md:pointer-events-auto","fixed md:relative h-full z-40"])},[a[10]||(a[10]=(0,l.Fv)('<div class="p-6 border-b border-gray-200 dark:border-slate-700"><div class="flex items-center space-x-2"><svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 6a1 1 0 011-1h12a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zm0 8a1 1 0 011-1h12a1 1 0 011 1v1a1 1 0 01-1 1H4a1 1 0 01-1-1v-1z"></path></svg><h1 class="text-2xl font-bold text-gray-900 dark:text-slate-100">Radio</h1></div></div>',1)),(0,l.Lk)("div",w,[(0,l.Lk)("div",S,[(0,l.bF)(s,{to:"/",onClick:a[1]||(a[1]=e=>t.value=!1),class:(0,i.C4)(["flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors text-gray-700 dark:text-slate-300",{"bg-blue-500 text-white":"/"===e.$route.path}])},{default:(0,l.k6)((()=>[(0,l.bF)((0,n.R1)(o.A),{class:"w-5 h-5"}),a[6]||(a[6]=(0,l.Lk)("span",null,"Home",-1))])),_:1},8,["class"]),(0,l.bF)(s,{to:"/skips",onClick:a[2]||(a[2]=e=>t.value=!1),class:(0,i.C4)(["flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors text-gray-700 dark:text-slate-300",{"bg-blue-500 text-white":"/skips"===e.$route.path}])},{default:(0,l.k6)((()=>[(0,l.bF)((0,n.R1)(d.A),{class:"w-5 h-5"}),a[7]||(a[7]=(0,l.Lk)("span",null,"Skips",-1))])),_:1},8,["class"]),(0,l.bF)(s,{to:"/settings",onClick:a[3]||(a[3]=e=>t.value=!1),class:(0,i.C4)(["flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors text-gray-700 dark:text-slate-300",{"bg-blue-500 text-white":"/settings"===e.$route.path}])},{default:(0,l.k6)((()=>[(0,l.bF)((0,n.R1)(u.A),{class:"w-5 h-5"}),a[8]||(a[8]=(0,l.Lk)("span",null,"Settings",-1))])),_:1},8,["class"])]),(0,l.Lk)("div",L,[(0,l.bF)(h),a[9]||(a[9]=(0,l.Lk)("div",{class:"text-gray-500 dark:text-slate-400 text-xs"},[(0,l.Lk)("p",null,"Belgian Radio Player"),(0,l.Lk)("p",{class:"mt-2"},"© 2025")],-1))])])],2),t.value?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:a[4]||(a[4]=e=>t.value=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30"})):(0,l.Q3)("",!0),(0,l.Lk)("div",C,[(0,l.Lk)("main",I,[(0,l.bF)(r)])])])}}};const R=E;var A=R,_={__name:"App",setup(e){return(e,t)=>((0,l.uX)(),(0,l.Wv)(A))}};const P=_;var N=P,T=a(8728),O=(a(4114),a(4373));const D="skipHistory",X=20,F=(0,r.nY)("radio",{state:()=>({stations:[{id:0,name:"Studio Brussel",shortName:"Stubru",stream:"https://vrt.streamabc.net/vrt-studiobrussel-mp3-128-4409118",endpoint:"https://media-services-public.vrt.be/vualto-video-aggregator-web/rest/external/v2/channels/livestream-audio-stubru",color:"from-blue-500 to-blue-700",icon:"music",songInfo:{artist:null,title:null,albumArt:null}},{id:1,name:"MNM",shortName:"MNM",stream:"https://vrt.streamabc.net/vrt-mnm-mp3-128-9205274",endpoint:"https://media-services-public.vrt.be/vualto-video-aggregator-web/rest/external/v2/channels/livestream-audio-mnm",color:"from-purple-500 to-purple-700",icon:"microphone",songInfo:{artist:null,title:null,albumArt:null}},{id:2,name:"Bruut",shortName:"Bruut",stream:"https://vrt.streamabc.net/vrt-zwaregitaren-mp3-128-2689110",endpoint:"https://media-services-public.vrt.be/vualto-video-aggregator-web/rest/external/v2/channels/livestream-audio-stubrubruut",color:"from-red-500 to-red-700",icon:"heart",songInfo:{artist:null,title:null,albumArt:null}},{id:3,name:"Vuurland",shortName:"Vuurland",stream:"https://vrt.streamabc.net/vrt-stubruvuurland-mp3-128-1929329",endpoint:"https://media-services-public.vrt.be/vualto-video-aggregator-web/rest/external/v2/channels/livestream-audio-stubru-vuurland",color:"from-orange-500 to-orange-700",icon:"flame",songInfo:{artist:null,title:null,albumArt:null}}],currentStationIndex:0,originalStationIndex:null,isPlaying:!1,isSkipping:!1,skipEnabled:!0,skipAttemptCount:0,maxPreferredSkips:null,autoPlay:!1,dislikes:["Metejoor","Freek","Toerist Le MC","Bazart","Milow","Maksim","Niels Destadsbader","Clouseau","Natalia","Laura Tesoro","Regi","Gustaph","Willy Sommers","Camille","Bart Peeters","Milk Inc.","Zwangere Guy"],preferredStations:[],autoReturn:!0,telemetry:[],skipHistory:[],songChangedTimeout:null,streamNonce:0}),getters:{currentStation:e=>e.stations[e.currentStationIndex],currentStationName:e=>e.stations[e.currentStationIndex]?.name||"",currentStream:e=>{const t=e.stations[e.currentStationIndex].stream,a=t.includes("?")?"&":"?";return`${t}${a}t=${e.streamNonce}`},currentSongInfo:e=>e.stations[e.currentStationIndex]?.songInfo,isDiskliked:e=>(t,a)=>{const s=e=>(e||"").toLowerCase(),r=s(t),l=s(a);return e.dislikes.some((e=>{const t=s(e);return t&&(r.includes(t)||l.includes(t))}))},orderedPreferredStations:e=>e.preferredStations.map((t=>e.stations.find((e=>e.id===t)))).filter(Boolean),isPreferredStation:e=>t=>e.preferredStations.includes(t)},actions:{selectStation(e){this.originalStationIndex=e,this.isSkipping=!1,this.skipAttemptCount=0,this.currentStationIndex=e,this.isPlaying=!0,this.currentStation&&(this.currentStation.songInfo={artist:null,title:null,albumArt:null}),this.streamNonce+=1,this.fetchCurrentSong()},async fetchCurrentSong(){if(this.currentStation)try{const e=this.currentStation,t=await O.A.get(e.endpoint),a=t.data.schedule?.find((e=>e.nowOnAirItem)),s=a?.nowOnAirItem;if(s){const t=s.artist||s.author,a=s.title||s.program?.title||s.broadcast?.title,r=s.imageLinks||s.program?.imageLinks||s.broadcast?.imageLinks||[],l=r.find((e=>"VRTMAX_RADIO_COVER"===e.type))?.url||r.find((e=>"SQUARE"===e.type))?.url||r.find((e=>"FULL_HD"===e.type))?.url||r[0]?.url;e.songInfo={artist:t,title:a,albumArt:l},this.isDiskliked(t,a)&&(this.skipEnabled?this.preferredStations.length>0?this.skipToNextPreferred("auto"):this.skipStation("auto"):this.logTelemetry("skip_disabled",`Detected disliked ${t} - ${a} but skipping is disabled`))}else e.songInfo={artist:null,title:null,albumArt:null}}catch(e){console.error(`Error fetching song for ${this.currentStation.name}:`,e),this.currentStation&&(this.currentStation.songInfo={artist:null,title:null,albumArt:null})}},async fetchAllStations(){const e=this.stations.map((async e=>{try{const t=await O.A.get(e.endpoint),a=t.data.schedule?.find((e=>e.nowOnAirItem)),s=a?.nowOnAirItem;if(s){const t=s.artist||s.author,a=s.title||s.program?.title||s.broadcast?.title,r=s.imageLinks||s.program?.imageLinks||s.broadcast?.imageLinks||[],l=r.find((e=>"VRTMAX_RADIO_COVER"===e.type))?.url||r.find((e=>"SQUARE"===e.type))?.url||r.find((e=>"FULL_HD"===e.type))?.url||r[0]?.url;e.songInfo={artist:t,title:a,albumArt:l}}else e.songInfo={artist:null,title:null,albumArt:null}}catch(t){console.error(`Error fetching data for station ${e.name}:`,t),e.songInfo={artist:null,title:null,albumArt:null}}}));if(await Promise.all(e),this.autoReturn&&void 0!==this.originalStationIndex&&null!==this.originalStationIndex&&this.currentStationIndex!==this.originalStationIndex){const e=this.stations[this.originalStationIndex],t=e?.songInfo?.artist,a=e?.songInfo?.title;this.isDiskliked(t,a)||this.returnToOriginalStation(this.originalStationIndex)}},async checkOriginalStation(){if(void 0===this.originalStationIndex||null===this.originalStationIndex)return;if(this.currentStationIndex===this.originalStationIndex)return;const e=this.stations[this.originalStationIndex];if(e&&e.endpoint)try{const t=await O.A.get(e.endpoint),a=t.data.schedule?.find((e=>e.nowOnAirItem)),s=a?.nowOnAirItem,r=s?.artist||s?.author,l=s?.title||s?.program?.title||s?.broadcast?.title;this.isDiskliked(r,l)||this.autoReturn&&this.returnToOriginalStation(this.originalStationIndex)}catch(t){console.error(`Error checking original station ${e.name}:`,t)}},addDislike(e){e&&!this.dislikes.includes(e)&&(this.dislikes.push(e),this.saveDislikes())},removeDislike(e){this.dislikes.splice(e,1),this.saveDislikes()},saveDislikes(){localStorage.setItem("dislikes",JSON.stringify(this.dislikes))},loadDislikes(){const e=localStorage.getItem("dislikes");e&&(this.dislikes=JSON.parse(e))},recordSkip(e="manual"){try{const t=this.currentStation,a=t?.songInfo||{},s={id:`${Date.now()}-${Math.random().toString(16).slice(2,8)}`,time:(new Date).toISOString(),stationId:t?.id??null,stationName:t?.name||"",stationShortName:t?.shortName||"",artist:a.artist||"",title:a.title||"",source:e};this.skipHistory.unshift(s),this.skipHistory.length>X&&this.skipHistory.splice(X),localStorage.setItem(D,JSON.stringify(this.skipHistory))}catch(t){}},loadSkipHistory(){const e=localStorage.getItem(D);if(e)try{const t=JSON.parse(e);this.skipHistory=Array.isArray(t)?t.slice(0,X):[]}catch(t){this.skipHistory=[]}},clearSkipHistory(){this.skipHistory=[],localStorage.removeItem(D)},skipStation(e="manual"){this.recordSkip(e),this.currentStationIndex=(this.currentStationIndex+1)%this.stations.length,this.currentStation&&(this.currentStation.songInfo={artist:null,title:null,albumArt:null}),this.streamNonce+=1,this.fetchCurrentSong()},skipToNextPreferred(e="auto"){if(0===this.preferredStations.length)return void this.skipStation(e);this.recordSkip(e);const t=this.currentStation?.id,a=this.preferredStations.indexOf(t);let s=(a+1)%this.preferredStations.length;const r=this.preferredStations[s],l=this.stations.findIndex((e=>e.id===r));if(!this.isSkipping){const e=this.preferredStations[0],t=this.stations.findIndex((t=>t.id===e));this.originalStationIndex=t>-1?t:this.currentStationIndex,this.skipAttemptCount=0}this.isSkipping=!0,this.skipAttemptCount=(this.skipAttemptCount||0)+1;const i=this.maxPreferredSkips||this.preferredStations.length||1/0;if(this.skipAttemptCount>i)return this.logTelemetry("skip_limit_reached",`reached limit ${i}, returning to original`),this.skipAttemptCount=0,void this.returnToOriginalStation(this.originalStationIndex);this.logTelemetry("skip",`attempt ${this.skipAttemptCount} skipping to stationId:${r}`),this.currentStationIndex=l>-1?l:(this.currentStationIndex+1)%this.stations.length,this.currentStation&&(this.currentStation.songInfo={artist:null,title:null,albumArt:null}),this.streamNonce+=1,this.fetchCurrentSong()},returnToOriginalStation(e){const t=void 0!==e&&null!==e?e:this.originalStationIndex;void 0!==t&&null!==t&&(this.currentStationIndex=t),this.originalStationIndex=null,this.isSkipping=!1,this.skipAttemptCount=0,this.logTelemetry("return",`returned to stationIndex:${this.currentStationIndex}`),this.currentStation&&(this.currentStation.songInfo={artist:null,title:null,albumArt:null}),this.streamNonce+=1,this.fetchCurrentSong()},togglePreferredStation(e){const t=this.preferredStations.indexOf(e);t>-1?this.preferredStations.splice(t,1):this.preferredStations.push(e),this.savePreferences()},reorderPreferredStations(e){this.preferredStations=e,this.savePreferences()},savePreferences(){localStorage.setItem("preferredStations",JSON.stringify(this.preferredStations)),localStorage.setItem("autoReturn",JSON.stringify(this.autoReturn)),localStorage.setItem("skipEnabled",JSON.stringify(this.skipEnabled)),localStorage.setItem("maxPreferredSkips",JSON.stringify(this.maxPreferredSkips)),localStorage.setItem("autoPlay",JSON.stringify(this.autoPlay))},loadPreferences(){const e=localStorage.getItem("preferredStations");e&&(this.preferredStations=JSON.parse(e));const t=localStorage.getItem("autoReturn");if(null!==t)try{this.autoReturn=JSON.parse(t)}catch(l){this.autoReturn=!0}const a=localStorage.getItem("skipEnabled");if(null!==a)try{this.skipEnabled=JSON.parse(a)}catch(l){this.skipEnabled=!0}const s=localStorage.getItem("maxPreferredSkips");if(null!==s)try{this.maxPreferredSkips=JSON.parse(s)}catch(l){this.maxPreferredSkips=null}const r=localStorage.getItem("autoPlay");if(null!==r)try{this.autoPlay=JSON.parse(r)}catch(l){this.autoPlay=!1}},logTelemetry(e,t){try{const a={type:e,message:t||"",time:(new Date).toISOString()};this.telemetry.unshift(a),this.telemetry.length>50&&this.telemetry.splice(50),localStorage.setItem("telemetry",JSON.stringify(this.telemetry))}catch(a){}},loadTelemetry(){const e=localStorage.getItem("telemetry");if(e)try{this.telemetry=JSON.parse(e)}catch(t){this.telemetry=[]}},clearTelemetry(){this.telemetry=[],localStorage.removeItem("telemetry")}}});var M=a(5613),j=a(6076);const H={class:"relative p-4 sm:p-6 h-full flex flex-col justify-between min-h-56 sm:min-h-64"},V={class:"flex items-center justify-between mb-4"},U={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-slate-100"},B={class:"w-9 h-9 sm:w-10 sm:h-10 bg-gray-200 dark:bg-slate-800 rounded-lg flex items-center justify-center"},K={class:"flex items-center space-x-4"},$={key:0,class:"flex-shrink-0"},J=["src"],W={class:"flex-1 min-w-0"},Q={key:0,class:"space-y-1"},G={key:0,class:"text-gray-900 dark:text-slate-100 font-bold text-base line-clamp-2"},z={key:1,class:"text-gray-700 dark:text-slate-300 text-xs line-clamp-2"},Y={key:1,class:"text-gray-600 dark:text-slate-400 text-xs italic"},q={class:"flex items-center justify-between mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-400 dark:border-slate-700 border-opacity-30"},Z={class:"text-gray-700 dark:text-slate-300 text-xs font-medium"};var ee={__name:"StationCard",props:{station:{type:Object,required:!0}},emits:["select"],setup(e,{emit:t}){const a=e,s=t,r=F(),o=(0,l.EW)((()=>a.station.songInfo||{})),d=()=>{r.selectStation(a.station.id),s("select",a.station.id)};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",{onClick:d,class:(0,i.C4)(["relative overflow-hidden rounded-xl bg-gradient-to-br cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-2xl shadow-lg border border-gray-300 dark:border-slate-700",`${e.station.color} bg-opacity-20`])},[a[1]||(a[1]=(0,l.Lk)("div",{class:"absolute inset-0 opacity-5"},[(0,l.Lk)("div",{class:"absolute inset-0 bg-pattern"})],-1)),(0,l.Lk)("div",H,[(0,l.Lk)("div",null,[(0,l.Lk)("div",V,[(0,l.Lk)("h3",U,(0,i.v_)(e.station.name),1),(0,l.Lk)("div",B,[(0,l.bF)((0,n.R1)(M.A),{class:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700 dark:text-slate-200"})])])]),(0,l.Lk)("div",K,[o.value.albumArt?((0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("img",{src:o.value.albumArt,alt:"Album Art",class:"w-16 h-16 rounded-lg shadow-md object-cover"},null,8,J)])):(0,l.Q3)("",!0),(0,l.Lk)("div",W,[o.value.artist||o.value.title?((0,l.uX)(),(0,l.CE)("div",Q,[a[0]||(a[0]=(0,l.Lk)("div",{class:"text-gray-700 dark:text-slate-300 text-xs font-semibold uppercase tracking-wider"}," Now Playing ",-1)),o.value.artist?((0,l.uX)(),(0,l.CE)("div",G,(0,i.v_)(o.value.artist),1)):(0,l.Q3)("",!0),o.value.title?((0,l.uX)(),(0,l.CE)("div",z,(0,i.v_)(o.value.title),1)):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",Y," No song playing now "))])]),(0,l.Lk)("div",q,[(0,l.Lk)("span",Z,(0,i.v_)(e.station.shortName),1),(0,l.bF)((0,n.R1)(j.A),{class:"w-5 h-5 text-gray-700 dark:text-slate-300 opacity-70 group-hover:opacity-100 transition-opacity"})])])],2))}},te=a(1241);const ae=(0,te.A)(ee,[["__scopeId","data-v-1d849a63"]]);var se=ae,re=a(7341),le=a(315),ie=a(4826),ne=a(4336),oe=a(3522),de=a(9717),ue=a(100),ce=a(2590);const me={class:"space-y-4 md:space-y-6 pb-4 md:pb-6"},ke={key:0,class:"px-3 sm:px-4 md:px-6 pt-3 sm:pt-4 md:pt-6"},ge={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-8 border border-blue-200 dark:border-slate-700 shadow-lg"},pe={class:"flex items-center justify-between gap-3 mb-3 md:mb-4"},xe={class:"flex flex-col md:flex-row gap-6 items-center md:items-start"},be={key:0,class:"flex-shrink-0"},ve=["src"],fe={class:"flex-1 min-w-0 w-full text-center md:text-left"},he={class:"text-xl sm:text-2xl md:text-4xl font-bold text-gray-900 dark:text-slate-100 mb-2 line-clamp-2"},ye={key:0,class:"mb-2"},we={class:"inline-flex items-center gap-2 px-2 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded-full text-xs font-medium"},Se={class:"space-y-3 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-blue-200 dark:border-slate-700"},Le={class:"flex items-start space-x-3 md:space-x-4 text-left"},Ce={class:"w-9 h-9 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg flex items-center justify-center flex-shrink-0"},Ie={class:"flex-1 min-w-0"},Ee={class:"flex items-start space-x-3 md:space-x-4 text-left"},Re={class:"w-9 h-9 sm:w-10 sm:h-10 md:w-12 md:h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center flex-shrink-0"},Ae={class:"flex-1 min-w-0"},_e={key:1,class:"text-gray-600 dark:text-slate-300 text-sm italic"},Pe={class:"mt-4 pt-3 border-t border-blue-200 dark:border-slate-700"},Ne=["src"],Te={class:"flex flex-col md:flex-row items-center md:items-center justify-between gap-3 mt-3"},Oe={class:"flex items-center space-x-3"},De={class:"flex items-center space-x-3"},Xe={class:"text-gray-600 dark:text-slate-300 text-sm font-medium"},Fe={class:"text-sm"},Me={class:"px-3 sm:px-4 md:px-6 pb-3 sm:pb-4 md:pb-6"},je={class:"mb-4 md:mb-6"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4"},Ve={class:"px-3 sm:px-4 md:px-6 pb-3 sm:pb-4 md:pb-6"},Ue={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Be={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-6 border border-blue-200 dark:border-slate-700 shadow-lg h-full"},Ke={class:"text-base sm:text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3 md:mb-4 flex items-center space-x-2"},$e={class:"space-y-3 md:space-y-4"},Je={class:"space-y-2"},We={key:0,class:"space-y-2"},Qe={class:"text-gray-700 dark:text-slate-200 text-xs sm:text-sm font-medium"},Ge={class:"space-y-2 max-h-48 overflow-y-auto"},ze={class:"flex items-center space-x-3 flex-1 min-w-0"},Ye={class:"bg-blue-500 text-white w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-semibold flex-shrink-0"},qe={class:"text-gray-900 dark:text-slate-100 text-sm sm:text-base font-medium truncate"},Ze=["onClick"],et={key:1,class:"text-gray-600 dark:text-slate-400 text-sm italic"},tt={class:"border-t border-blue-200 dark:border-slate-700 pt-4"},at={class:"flex flex-wrap gap-2"},st=["onClick"],rt={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-6 border border-blue-200 dark:border-slate-700 shadow-lg h-full"},lt={class:"text-base sm:text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3 md:mb-4 flex items-center space-x-2"},it={class:"space-y-3 md:space-y-4"},nt={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2"},ot={key:0,class:"space-y-2"},dt={class:"text-gray-700 dark:text-slate-200 text-xs sm:text-sm font-medium"},ut={class:"flex flex-wrap gap-2"},ct={class:"truncate"},mt=["onClick"],kt={key:1,class:"text-gray-600 dark:text-slate-400 text-sm italic"},gt={class:"fixed bottom-4 right-4 flex flex-col items-end space-y-2 z-50"};var pt={__name:"Home",setup(e){const t=F(),a=(0,n.KR)(null),r=(0,n.KR)("");let o=null,d=null,u=null,c=null,k=null,g=null;const p=(0,n.KR)(!1),x=(0,n.KR)(!1),b=(0,n.KR)(1),v=(0,l.EW)((()=>{const e=t.stations.find((e=>e.id===t.currentStation?.id));return e?.songInfo||{}})),f=(0,l.EW)((()=>v.value?.albumArt)),h=async()=>{if(a.value)try{await a.value.play(),t.isPlaying=!0}catch(e){t.isPlaying=!1,console.error("Error playing audio:",e)}},y=(0,n.KR)([]),w=(e,t="info")=>{const a=Date.now()+Math.random();y.value.push({id:a,message:e,type:t}),setTimeout((()=>{const e=y.value.findIndex((e=>e.id===a));e>-1&&y.value.splice(e,1)}),4e3)};(0,l.wB)((()=>t.telemetry.slice(0,5)),((e,t)=>{if(!t||0===e.length)return;const a=e[0];if(a&&["skip","return","cast_session","cast_error","skip_disabled"].includes(a.type)){const e={skip:"Skipping to preferred station",return:"Returning to original station",cast_session:"Cast session changed",cast_error:"Cast error",skip_disabled:"Skipping disabled"};w(e[a.type]||a.message)}}),{deep:!0});const S=()=>{if(!window.chrome?.cast?.media)return null;const e=new window.chrome.cast.media.MusicTrackMediaMetadata;return e.title=v.value.title||t.currentStationName||"Belgian Radio",e.artist=v.value.artist||t.currentStationName||"VRT",e.albumName=t.currentStationName||"Belgian Radio",v.value.albumArt&&(e.images=[new window.chrome.cast.Image(v.value.albumArt)]),e},L=()=>{if(!u||"undefined"===typeof window)return;const e=u.getCurrentSession(),t=e?.getMediaSession();if(!t||!t.media)return;const a=S();a&&(t.media.metadata=a)},C=async(e=!0)=>{if(!u||"undefined"===typeof window)return;const a=u.getCurrentSession();if(!a||!window.chrome?.cast?.media)return;const s=new window.chrome.cast.media.MediaInfo(t.currentStream,"audio/mpeg"),r=S();r&&(s.metadata=r);const l=new window.chrome.cast.media.LoadRequest(s);l.autoplay=e;try{await a.loadMedia(l),t.isPlaying=e}catch(i){console.error("Error casting media:",i),t.logTelemetry("cast_error",String(i?.message||i))}},I=async(e=!1)=>{x.value?await C(e||t.isPlaying):a.value&&(a.value.load(),(e||t.isPlaying)&&await h())},E=()=>{window.cast?.framework&&(c&&k||(c=new window.cast.framework.RemotePlayer,k=new window.cast.framework.RemotePlayerController(c),k.addEventListener(window.cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,(()=>{x.value&&(t.isPlaying=!c.isPaused)}))))},R=async()=>{if(u)try{await u.requestSession()}catch(e){console.error("Cast session request failed:",e),t.logTelemetry("cast_session_error",String(e?.message||e))}},A=async()=>{const e=u?.getCurrentSession();if(!e)return void await R();const a=e.getMediaSession();if(!a)return void await C(!0);const s=a.playerState===window.chrome?.cast?.media?.PlayerState?.PLAYING;s?a.pause(null,(()=>{t.isPlaying=!1}),(e=>{console.error("Error pausing cast:",e),t.logTelemetry("cast_pause_error",String(e?.message||e))})):a.play(null,(()=>{t.isPlaying=!0}),(e=>{console.error("Error playing cast:",e),t.logTelemetry("cast_play_error",String(e?.message||e))}))},_=()=>"undefined"!==typeof window&&(!(!window.cast?.framework||!window.chrome?.cast)&&(u=window.cast.framework.CastContext.getInstance(),u.setOptions({receiverApplicationId:window.chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),u.addEventListener(window.cast.framework.CastContextEventType.CAST_STATE_CHANGED,(e=>{p.value=e.castState!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE})),u.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,(e=>{const{SessionState:s}=window.cast.framework;e.sessionState===s.SESSION_STARTED||e.sessionState===s.SESSION_RESUMED?(x.value=!0,E(),a.value&&a.value.pause(),C(t.isPlaying),t.logTelemetry("cast_session","started")):e.sessionState!==s.SESSION_ENDED&&e.sessionState!==s.SESSION_START_FAILED||(x.value=!1,c=null,k=null,t.logTelemetry("cast_session","ended"))})),!0));(0,l.sV)((async()=>{t.loadDislikes(),t.loadPreferences(),t.loadTelemetry(),t.loadSkipHistory(),t.fetchCurrentSong(),t.fetchAllStations(),await(0,l.dY)(),t.autoPlay&&await I(!0),o=setInterval((()=>{t.fetchCurrentSong()}),1e4);let e=Date.now();setInterval((()=>{const a=Date.now(),s=t.isSkipping||a-e>3e4;s&&(t.fetchAllStations(),e=a)}),1e4),g=setInterval((()=>{t.isSkipping&&t.checkOriginalStation()}),5e3),_()||(window.__onGCastApiAvailable=e=>{e&&_()},d=setInterval((()=>{_()&&(clearInterval(d),d=null)}),500))})),(0,l.wB)((()=>t.currentStream),(async()=>{await(0,l.dY)(),await I()})),(0,l.wB)((()=>[v.value.artist,v.value.title,v.value.albumArt]),(async()=>{if(!x.value)return;const e=u?.getCurrentSession(),a=e?.getMediaSession();a?L():await C(t.isPlaying)})),(0,l.hi)((()=>{o&&clearInterval(o),d&&clearInterval(d),g&&clearInterval(g),a.value&&a.value.pause()}));const P=()=>{x.value||(t.isPlaying=!0)},N=()=>{x.value||(t.isPlaying=!1)},T=async()=>{x.value?await A():a.value&&(t.isPlaying?a.value.pause():await I(!0))},O=()=>{a.value&&(a.value.volume=b.value)},D=()=>{t.skipStation()},X=()=>{t.skipStation()},j=()=>{r.value.trim()&&(t.addDislike(r.value.trim()),r.value="")},H=e=>{t.removeDislike(e)};return(e,o)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",me,[(0,n.R1)(t).currentStation?((0,l.uX)(),(0,l.CE)("div",ke,[(0,l.Lk)("div",ge,[(0,l.Lk)("div",pe,[o[2]||(o[2]=(0,l.Lk)("div",{class:"text-blue-600 dark:text-blue-300 text-xs md:text-sm font-semibold uppercase tracking-wider"}," Now Playing ",-1)),(0,l.Lk)("button",{onClick:T,class:"p-2 sm:p-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-full transition-all shadow-lg",title:"Play/Pause"},[((0,l.uX)(),(0,l.Wv)((0,l.$y)((0,n.R1)(t).isPlaying?(0,n.R1)(re.A):(0,n.R1)(le.A)),{class:"w-4 h-4 sm:w-5 sm:h-5 text-white"}))])]),(0,l.Lk)("div",xe,[f.value?((0,l.uX)(),(0,l.CE)("div",be,[(0,l.Lk)("img",{src:f.value,alt:"Album Art",class:"w-40 h-40 rounded-xl shadow-lg object-cover bg-blue-50 dark:bg-slate-800 border border-blue-100 dark:border-slate-700"},null,8,ve)])):(0,l.Q3)("",!0),(0,l.Lk)("div",fe,[(0,l.Lk)("h2",he,(0,i.v_)((0,n.R1)(t).currentStationName||"Loading..."),1),(0,n.R1)(t).isSkipping?((0,l.uX)(),(0,l.CE)("div",ye,[(0,l.Lk)("span",we," Skipping — "+(0,i.v_)((0,n.R1)(t).stations[(0,n.R1)(t).originalStationIndex]?.shortName||"orig"),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",Se,[v.value.artist||v.value.title?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("div",Le,[(0,l.Lk)("div",Ce,[(0,l.bF)((0,n.R1)(M.A),{class:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})]),(0,l.Lk)("div",Ie,[o[3]||(o[3]=(0,l.Lk)("p",{class:"text-blue-600 dark:text-blue-300 text-xs font-semibold uppercase mb-1"},"Artist",-1)),(0,l.bF)(s.eB,{name:"slide-fade",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.CE)("p",{key:v.value.artist,class:"text-gray-900 dark:text-slate-100 text-base sm:text-lg md:text-xl font-bold line-clamp-2 break-words"},(0,i.v_)(v.value.artist||"Unknown Artist"),1))])),_:1})])]),(0,l.Lk)("div",Ee,[(0,l.Lk)("div",Re,[(0,l.bF)((0,n.R1)(ie.A),{class:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})]),(0,l.Lk)("div",Ae,[o[4]||(o[4]=(0,l.Lk)("p",{class:"text-blue-600 dark:text-blue-300 text-xs font-semibold uppercase mb-1"},"Song Title",-1)),(0,l.bF)(s.eB,{name:"slide-fade",mode:"out-in"},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.CE)("p",{key:v.value.title,class:"text-gray-900 dark:text-slate-100 text-base sm:text-lg md:text-xl font-bold line-clamp-2 break-words"},(0,i.v_)(v.value.title||"Unknown Title"),1))])),_:1})])])],64)):((0,l.uX)(),(0,l.CE)("div",_e," No song info available "))])])]),(0,l.Lk)("div",Pe,[(0,l.Lk)("audio",{ref_key:"audioPlayer",ref:a,src:(0,n.R1)(t).currentStream,onPlay:P,onPause:N,class:"w-full",crossorigin:"anonymous",preload:"auto"},null,40,Ne),(0,l.Lk)("div",Te,[(0,l.Lk)("div",Oe,[(0,l.Lk)("button",{onClick:D,class:"p-2 md:p-2 hover:bg-blue-200 dark:hover:bg-slate-700 rounded-lg transition-colors text-gray-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-slate-100",title:"Previous station"},[(0,l.bF)((0,n.R1)(ne.A),{class:"w-5 h-5"})]),(0,l.Lk)("button",{onClick:T,class:"p-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-full transition-all shadow-lg"},[((0,l.uX)(),(0,l.Wv)((0,l.$y)((0,n.R1)(t).isPlaying?(0,n.R1)(re.A):(0,n.R1)(le.A)),{class:"w-6 h-6 text-white"}))]),(0,l.Lk)("button",{onClick:X,class:"p-2 md:p-2 hover:bg-blue-200 dark:hover:bg-slate-700 rounded-lg transition-colors text-gray-700 dark:text-slate-200 hover:text-gray-900 dark:hover:text-slate-100",title:"Next station"},[(0,l.bF)((0,n.R1)(oe.A),{class:"w-5 h-5"})])]),(0,l.Lk)("div",De,[(0,l.bF)((0,n.R1)(m.A),{class:"w-4 h-4 text-gray-500 dark:text-slate-400"}),(0,l.bo)((0,l.Lk)("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":o[0]||(o[0]=e=>b.value=e),onInput:O,class:"w-36 h-1.5 bg-gray-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-600 hover:accent-blue-500"},null,544),[[s.Jo,b.value]]),(0,l.Lk)("div",Xe,(0,i.v_)((0,n.R1)(t).isPlaying?"Playing":"Paused"),1),p.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:R,class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-blue-200 dark:border-slate-700 bg-white/60 dark:bg-slate-900/60 text-gray-700 dark:text-slate-200 hover:bg-white dark:hover:bg-slate-800 transition-colors",title:"Cast to device"},[(0,l.bF)((0,n.R1)(de.A),{class:"w-4 h-4"}),(0,l.Lk)("span",Fe,(0,i.v_)(x.value?"Casting":"Cast"),1)])):(0,l.Q3)("",!0)])])])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Me,[(0,l.Lk)("div",je,[o[5]||(o[5]=(0,l.Lk)("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3 md:mb-4"},"All Stations",-1)),(0,l.Lk)("div",He,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).stations,(e=>((0,l.uX)(),(0,l.Wv)(se,{key:e.id,station:e},null,8,["station"])))),128))])])]),(0,l.Lk)("div",Ve,[(0,l.Lk)("div",Ue,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Be,[(0,l.Lk)("h3",Ke,[(0,l.bF)((0,n.R1)(ue.A),{class:"w-5 h-5"}),o[6]||(o[6]=(0,l.Lk)("span",null,"Preferred Stations",-1))]),(0,l.Lk)("div",$e,[o[8]||(o[8]=(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-xs sm:text-sm"},"When a disliked song plays, skip through these stations in order:",-1)),(0,l.Lk)("div",Je,[(0,n.R1)(t).preferredStations.length>0?((0,l.uX)(),(0,l.CE)("div",We,[(0,l.Lk)("div",Qe,"Priority Order ("+(0,i.v_)((0,n.R1)(t).preferredStations.length)+"):",1),(0,l.Lk)("div",Ge,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).preferredStations,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"bg-white dark:bg-slate-900 border border-blue-200 dark:border-slate-700 rounded-lg p-2.5 sm:p-3 flex items-center justify-between"},[(0,l.Lk)("div",ze,[(0,l.Lk)("span",Ye,(0,i.v_)(a+1),1),(0,l.Lk)("span",qe,(0,i.v_)((0,n.R1)(t).stations.find((t=>t.id===e))?.name),1)]),(0,l.Lk)("button",{onClick:a=>(0,n.R1)(t).togglePreferredStation(e),class:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors flex-shrink-0"},[(0,l.bF)((0,n.R1)(ce.A),{class:"w-5 h-5"})],8,Ze)])))),128))])])):((0,l.uX)(),(0,l.CE)("div",et," No preferred stations selected "))]),(0,l.Lk)("div",tt,[o[7]||(o[7]=(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-xs sm:text-sm mb-3"},"Add stations to priority list:",-1)),(0,l.Lk)("div",at,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).stations,(e=>((0,l.uX)(),(0,l.CE)("button",{key:e.id,onClick:a=>(0,n.R1)(t).togglePreferredStation(e.id),class:(0,i.C4)(["px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap",(0,n.R1)(t).isPreferredStation(e.id)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-slate-100 hover:bg-gray-300 dark:hover:bg-slate-600"])},(0,i.v_)(e.shortName),11,st)))),128))])])])])]),(0,l.Lk)("div",null,[(0,l.Lk)("div",rt,[(0,l.Lk)("h3",lt,[(0,l.bF)((0,n.R1)(ue.A),{class:"w-5 h-5"}),o[9]||(o[9]=(0,l.Lk)("span",null,"Dislike Management",-1))]),(0,l.Lk)("div",it,[(0,l.Lk)("div",nt,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>r.value=e),onKeyup:(0,s.jR)(j,["enter"]),type:"text",placeholder:"Enter artist name to skip...",class:"flex-1 bg-white dark:bg-slate-900 border border-blue-200 dark:border-slate-700 rounded-lg px-3 sm:px-4 py-2 text-gray-900 dark:text-slate-100 placeholder-gray-400 dark:placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors text-sm md:text-base"},null,544),[[s.Jo,r.value]]),(0,l.Lk)("button",{onClick:j,class:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 dark:from-red-600 dark:to-red-700 text-white font-medium px-4 py-2 rounded-lg transition-all whitespace-nowrap text-sm"}," Add ")]),(0,n.R1)(t).dislikes.length>0?((0,l.uX)(),(0,l.CE)("div",ot,[(0,l.Lk)("div",dt,"Disliked Artists ("+(0,i.v_)((0,n.R1)(t).dislikes.length)+"):",1),(0,l.Lk)("div",ut,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).dislikes,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"bg-gray-200 dark:bg-slate-700 rounded-lg px-3 py-2 text-gray-800 dark:text-slate-100 text-xs sm:text-sm flex items-center justify-between space-x-2 group hover:bg-red-200 dark:hover:bg-red-800 transition-colors"},[(0,l.Lk)("span",ct,(0,i.v_)(e),1),(0,l.Lk)("button",{onClick:e=>H(t),class:"text-gray-600 dark:text-slate-300 hover:text-gray-900 dark:hover:text-slate-100 transition-colors flex-shrink-0"},[(0,l.bF)((0,n.R1)(ce.A),{class:"w-4 h-4"})],8,mt)])))),128))])])):((0,l.uX)(),(0,l.CE)("div",kt," No disliked artists yet "))])])])])])]),(0,l.Lk)("div",gt,[(0,l.bF)(s.F,{name:"toast",tag:"div"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"max-w-xs w-full",style:(0,i.Tr)({transitionDelay:60*t+"ms"})},[(0,l.Lk)("div",{class:(0,i.C4)(["px-3 py-2 rounded-lg shadow-md text-sm transform-gpu","error"===e.type?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"warn"===e.type?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":"success"===e.type?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-white dark:bg-slate-800 text-gray-800 dark:text-slate-100"])},(0,i.v_)(e.message),3)],4)))),128))])),_:1})])],64))}};const xt=(0,te.A)(pt,[["__scopeId","data-v-0a1cecb0"]]);var bt=xt;a(4603),a(7566),a(8721);const vt="themeMode",ft=(0,r.nY)("theme",(()=>{const e=(0,n.KR)("system"),t=(0,n.KR)(!1),a=(0,l.EW)((()=>"system"===e.value?t.value:"dark"===e.value)),s=()=>{"undefined"!==typeof document&&document.documentElement.classList.toggle("dark",a.value)},r=()=>{if("undefined"===typeof window)return;const a=localStorage.getItem(vt);"light"!==a&&"dark"!==a&&"system"!==a||(e.value=a);const r=window.matchMedia("(prefers-color-scheme: dark)"),l=()=>{t.value=r.matches};l(),r.addEventListener?r.addEventListener("change",l):r.addListener&&r.addListener(l),s()},i=()=>{e.value=a.value?"light":"dark"},o=()=>{e.value="system"};return(0,l.wB)([e,t],(()=>{"undefined"!==typeof window&&localStorage.setItem(vt,e.value),s()})),{mode:e,systemPrefersDark:t,isDark:a,init:r,toggleDarkMode:i,useSystem:o}}));var ht=a(3361),yt=a(2369);const wt={class:"space-y-6 p-6"},St={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},Lt={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 mb-6 flex items-center space-x-2"},Ct={class:"space-y-4"},It={class:"flex items-center justify-between"},Et={class:"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-slate-700"},Rt={class:"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-slate-700"},At={class:"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-slate-700"},_t={class:"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-slate-700"},Pt={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},Nt={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 mb-6 flex items-center space-x-2"},Tt={class:"space-y-4"},Ot={class:"flex items-center justify-between"},Dt={class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},Xt={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},Ft={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 mb-6 flex items-center space-x-2"},Mt={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},jt={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 mb-6 flex items-center space-x-2"},Ht={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},Vt={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 mb-4 flex items-center space-x-2"},Ut={class:"space-y-3"},Bt={class:"max-h-48 overflow-auto text-xs text-gray-700 dark:text-slate-200"},Kt={key:0,class:"italic text-gray-500 dark:text-slate-400"},$t={class:"text-[11px] font-medium"},Jt={class:"text-[11px] text-gray-600 dark:text-slate-300"},Wt={class:"text-[10px] text-gray-400 dark:text-slate-500"};var Qt={__name:"Settings",setup(e){const t=F(),a=ft(),r=(0,l.EW)((()=>a.isDark)),o=()=>{a.toggleDarkMode()},d=()=>{t.autoPlay=!t.autoPlay,t.savePreferences()},c=()=>{t.autoReturn=!t.autoReturn,t.savePreferences()},m=()=>{confirm("Clear telemetry events?")&&t.clearTelemetry()},k=()=>{t.skipEnabled=!t.skipEnabled,t.savePreferences()},g=()=>{const e=t.telemetry||[];if(!e.length)return void alert("No telemetry to export");const a=e.map((e=>[e.time,e.type,(e.message||"").replace(/\n/g," ")])),s=["time,type,message",...a.map((e=>e.map((e=>'"'+String(e).replace(/"/g,'""')+'"')).join(",")))].join("\n"),r=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.download=`telemetry_${(new Date).toISOString().replace(/[:.]/g,"-")}.csv`,i.click(),URL.revokeObjectURL(l)},p=()=>{confirm("Are you sure you want to clear all disliked artists?")&&(t.dislikes=[],t.saveDislikes())};return(e,a)=>((0,l.uX)(),(0,l.CE)("div",wt,[(0,l.Lk)("div",St,[(0,l.Lk)("h3",Lt,[(0,l.bF)((0,n.R1)(u.A),{class:"w-6 h-6"}),a[2]||(a[2]=(0,l.Lk)("span",null,"General Settings",-1))]),(0,l.Lk)("div",Ct,[(0,l.Lk)("div",It,[a[3]||(a[3]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Dark Mode"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"Follows your browser setting by default")],-1)),(0,l.Lk)("div",{class:"relative inline-block w-14 h-8 bg-gray-300 dark:bg-slate-700 rounded-full cursor-pointer",onClick:o},[(0,l.Lk)("div",{class:"absolute top-1 left-1 w-6 h-6 bg-white dark:bg-slate-100 rounded-full shadow-md transition-all duration-300 transform",style:(0,i.Tr)({transform:r.value?"translateX(24px)":"translateX(0)"})},null,4)])]),(0,l.Lk)("div",Et,[a[4]||(a[4]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Auto-play"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"Automatically start playing when opening app")],-1)),(0,l.Lk)("div",{class:(0,i.C4)(["relative inline-block w-14 h-8 rounded-full cursor-pointer",(0,n.R1)(t).autoPlay?"bg-blue-600":"bg-gray-300 dark:bg-slate-700"]),onClick:d},[(0,l.Lk)("div",{class:"absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transition-all duration-300 transform",style:(0,i.Tr)({transform:(0,n.R1)(t).autoPlay?"translateX(24px)":"translateX(0)"})},null,4)],2)]),(0,l.Lk)("div",Rt,[a[5]||(a[5]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Auto-return after skip"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"Automatically return to the first preferred station when the disliked song ends")],-1)),(0,l.Lk)("div",{class:"relative inline-block w-14 h-8 bg-gray-300 dark:bg-slate-700 rounded-full cursor-pointer",onClick:c},[(0,l.Lk)("div",{class:"absolute top-1 left-1 w-6 h-6 bg-white dark:bg-slate-100 rounded-full shadow-md transition-all duration-300 transform",style:(0,i.Tr)({transform:(0,n.R1)(t).autoReturn?"translateX(24px)":"translateX(0)"})},null,4)])]),(0,l.Lk)("div",At,[a[6]||(a[6]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Enable automatic skipping"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"When enabled, disliked songs will trigger automatic skipping")],-1)),(0,l.Lk)("div",{class:"relative inline-block w-14 h-8 bg-gray-300 dark:bg-slate-700 rounded-full cursor-pointer",onClick:k},[(0,l.Lk)("div",{class:"absolute top-1 left-1 w-6 h-6 bg-white dark:bg-slate-100 rounded-full shadow-md transition-all duration-300 transform",style:(0,i.Tr)({transform:(0,n.R1)(t).skipEnabled?"translateX(24px)":"translateX(0)"})},null,4)])]),(0,l.Lk)("div",_t,[a[7]||(a[7]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Max preferred skips"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"How many preferred stations to try before returning (empty = all)")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",min:"1","onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.R1)(t).maxPreferredSkips=e),onChange:a[1]||(a[1]=e=>(0,n.R1)(t).savePreferences()),placeholder:"(all)",class:"w-20 bg-white dark:bg-slate-900 border border-blue-200 dark:border-slate-700 rounded-lg px-2 py-1 text-sm text-gray-900 dark:text-slate-100"},null,544),[[s.Jo,(0,n.R1)(t).maxPreferredSkips,void 0,{number:!0}]])]),(0,l.Lk)("div",{class:"flex items-center justify-between pt-4 border-t border-blue-200 dark:border-slate-700"},[a[8]||(a[8]=(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Telemetry export"),(0,l.Lk)("p",{class:"text-gray-600 dark:text-slate-300 text-sm mt-1"},"Download recent telemetry as CSV for debugging")],-1)),(0,l.Lk)("button",{onClick:g,class:"bg-blue-500 text-white px-3 py-2 rounded-lg text-sm"},"Export")])])]),(0,l.Lk)("div",Pt,[(0,l.Lk)("h3",Nt,[(0,l.bF)((0,n.R1)(ht.A),{class:"w-6 h-6"}),a[9]||(a[9]=(0,l.Lk)("span",null,"Storage Management",-1))]),(0,l.Lk)("div",Tt,[(0,l.Lk)("div",Ot,[(0,l.Lk)("div",null,[a[10]||(a[10]=(0,l.Lk)("label",{class:"text-gray-900 dark:text-slate-100 font-medium"},"Disliked Artists",-1)),(0,l.Lk)("p",Dt,"You have "+(0,i.v_)((0,n.R1)(t).dislikes.length)+" disliked artists saved",1)]),(0,l.Lk)("button",{onClick:p,class:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium px-4 py-2 rounded-lg transition-all"}," Clear All ")])])]),(0,l.Lk)("div",Xt,[(0,l.Lk)("h3",Ft,[(0,l.bF)((0,n.R1)(yt.A),{class:"w-6 h-6"}),a[11]||(a[11]=(0,l.Lk)("span",null,"About",-1))]),a[12]||(a[12]=(0,l.Fv)('<div class="space-y-4"><div><p class="text-gray-600 dark:text-slate-300 text-sm">Application Name</p><p class="text-gray-900 dark:text-slate-100 font-medium">Belgian Radio Player</p></div><div><p class="text-gray-600 dark:text-slate-300 text-sm">Version</p><p class="text-gray-900 dark:text-slate-100 font-medium">1.0.0</p></div><div><p class="text-gray-600 dark:text-slate-300 text-sm">Built with</p><p class="text-gray-900 dark:text-slate-100 font-medium">Vue.js 3 • Vue Router • Pinia • Tailwind CSS • Heroicons</p></div><div class="pt-4 border-t border-blue-200 dark:border-slate-700"><p class="text-gray-600 dark:text-slate-300 text-xs"> This application streams Belgian radio stations from VRT (Vlaamse Radio- en Televisie). All content is provided by VRT. </p></div></div>',1))]),(0,l.Lk)("div",Mt,[(0,l.Lk)("h3",jt,[(0,l.bF)((0,n.R1)(ie.A),{class:"w-6 h-6"}),a[13]||(a[13]=(0,l.Lk)("span",null,"What's New",-1))]),a[14]||(a[14]=(0,l.Lk)("div",{class:"space-y-4"},[(0,l.Lk)("div",null,[(0,l.Lk)("p",{class:"text-gray-900 dark:text-slate-100 font-medium text-sm"},"v1.0.0 - Complete Rebuild"),(0,l.Lk)("ul",{class:"text-gray-600 dark:text-slate-300 text-sm mt-2 space-y-1 list-disc list-inside"},[(0,l.Lk)("li",null,"Rebuilt with Vue Router for better navigation"),(0,l.Lk)("li",null,"Integrated Pinia for state management"),(0,l.Lk)("li",null,"Added Heroicons for beautiful UI elements"),(0,l.Lk)("li",null,"Enhanced UI with Tailwind CSS gradients and animations"),(0,l.Lk)("li",null,"Improved responsive design for mobile devices"),(0,l.Lk)("li",null,"Modern light theme as default")])])],-1))]),(0,l.Lk)("div",Ht,[(0,l.Lk)("h3",Vt,[(0,l.bF)((0,n.R1)(ie.A),{class:"w-6 h-6"}),a[15]||(a[15]=(0,l.Lk)("span",null,"Telemetry",-1))]),(0,l.Lk)("div",Ut,[(0,l.Lk)("div",{class:"flex items-center justify-between"},[a[16]||(a[16]=(0,l.Lk)("div",{class:"text-sm text-gray-600 dark:text-slate-300"},"Recent events",-1)),(0,l.Lk)("button",{onClick:m,class:"text-xs text-red-600 hover:underline"},"Clear")]),(0,l.Lk)("div",Bt,[0===(0,n.R1)(t).telemetry.length?((0,l.uX)(),(0,l.CE)("div",Kt,"No telemetry yet")):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).telemetry.slice(0,10),((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"py-1 border-b border-gray-100 dark:border-slate-800"},[(0,l.Lk)("div",$t,(0,i.v_)(e.type),1),(0,l.Lk)("div",Jt,(0,i.v_)(e.message),1),(0,l.Lk)("div",Wt,(0,i.v_)(e.time),1)])))),128))])])])]))}};const Gt=Qt;var zt=Gt;const Yt={class:"space-y-6 p-6"},qt={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl p-6 border border-blue-200 dark:border-slate-700 shadow-lg"},Zt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},ea={class:"text-xl font-semibold text-gray-900 dark:text-slate-100 flex items-center space-x-2"},ta={class:"flex items-center justify-between mt-4"},aa={class:"text-sm text-gray-600 dark:text-slate-300"},sa=["disabled"],ra={class:"mt-4"},la={key:0,class:"text-sm text-gray-600 dark:text-slate-400 italic"},ia={key:1,class:"divide-y divide-blue-100 dark:divide-slate-700"},na={class:"flex items-start gap-3"},oa={class:"w-9 h-9 rounded-lg bg-blue-100 dark:bg-slate-800 flex items-center justify-center"},da={class:"min-w-0"},ua={class:"text-sm font-semibold text-gray-900 dark:text-slate-100 truncate"},ca={class:"text-xs text-gray-700 dark:text-slate-300 truncate"},ma={class:"text-xs text-gray-500 dark:text-slate-400"},ka={key:0},ga={class:"text-xs text-gray-500 dark:text-slate-400 sm:text-right"},pa={key:0,class:"uppercase tracking-wider mt-1"};var xa={__name:"SkipHistory",setup(e){const t=F();(0,l.sV)((()=>{t.loadSkipHistory()}));const a=(0,l.EW)((()=>t.skipHistory||[])),s=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString()},r=e=>e?"auto"===e?"Auto":"manual"===e?"Manual":String(e):"",o=()=>{0!==a.value.length&&confirm("Clear skip history?")&&t.clearSkipHistory()};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Yt,[(0,l.Lk)("div",qt,[(0,l.Lk)("div",Zt,[(0,l.Lk)("h3",ea,[(0,l.bF)((0,n.R1)(d.A),{class:"w-6 h-6"}),t[0]||(t[0]=(0,l.Lk)("span",null,"Skip History",-1))]),t[1]||(t[1]=(0,l.Lk)("div",{class:"text-xs text-gray-500 dark:text-slate-400"},"Last 20 skips",-1))]),(0,l.Lk)("div",ta,[(0,l.Lk)("div",aa,"Total: "+(0,i.v_)(a.value.length),1),(0,l.Lk)("button",{class:"text-xs text-red-600 hover:underline",onClick:o,disabled:0===a.value.length}," Clear ",8,sa)]),(0,l.Lk)("div",ra,[0===a.value.length?((0,l.uX)(),(0,l.CE)("div",la," No skips recorded yet. ")):((0,l.uX)(),(0,l.CE)("div",ia,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"py-4 flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3"},[(0,l.Lk)("div",na,[(0,l.Lk)("div",oa,[(0,l.bF)((0,n.R1)(M.A),{class:"w-5 h-5 text-blue-600 dark:text-blue-300"})]),(0,l.Lk)("div",da,[(0,l.Lk)("div",ua,(0,i.v_)(e.artist||"Unknown artist"),1),(0,l.Lk)("div",ca,(0,i.v_)(e.title||"Unknown title"),1),(0,l.Lk)("div",ma,[(0,l.eW)((0,i.v_)(e.stationName||"Unknown station")+" ",1),e.stationShortName?((0,l.uX)(),(0,l.CE)("span",ka,"("+(0,i.v_)(e.stationShortName)+")",1)):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",ga,[(0,l.Lk)("div",null,(0,i.v_)(s(e.time)),1),e.source?((0,l.uX)(),(0,l.CE)("div",pa,(0,i.v_)(r(e.source)),1)):(0,l.Q3)("",!0)])])))),128))]))])])]))}};const ba=xa;var va=ba;const fa=[{path:"/",name:"Home",component:bt},{path:"/settings",name:"Settings",component:zt},{path:"/skips",name:"Skips",component:va}],ha=(0,T.aE)({history:(0,T.LA)("/belgian-radios-skipper/"),routes:fa});var ya=ha;const wa=(0,s.Ef)(N),Sa=(0,r.Ey)();wa.use(Sa),wa.use(ya),ft(Sa).init(),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{const e="/belgian-radios-skipper/";navigator.serviceWorker.register(`${e}service-worker.js`).catch((e=>{console.error("Service worker registration failed:",e)}))})),wa.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,l){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],l=e[u][2];for(var n=!0,o=0;o<s.length;o++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(n=!1,l<i&&(i=l));if(n){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,l,i=s[0],n=s[1],o=s[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(o)var u=o(a)}for(t&&t(s);d<i.length;d++)l=i[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},s=self["webpackChunkbelgian_radio"]=self["webpackChunkbelgian_radio"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(9754)}));s=a.O(s)})();
//# sourceMappingURL=app.06116011.js.map