<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // GitHub Pages doesn't support SPA history fallback.
      // Redirect unknown routes back to index with encoded path/query.
      const pathSegmentsToKeep = 1
      const { location } = window
      const redirectTo =
        location.protocol +
        '//' +
        location.hostname +
        (location.port ? ':' + location.port : '') +
        location.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') +
        '/?/' +
        location.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
        (location.search ? '&' + location.search.slice(1).replace(/&/g, '~and~') : '') +
        location.hash
      location.replace(redirectTo)
    </script>
  </head>
  <body></body>
</html>
